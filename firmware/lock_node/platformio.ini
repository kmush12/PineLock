[env:esp32-c3]
platform = espressif32
board = seeed_xiao_esp32c3
framework = arduino

; Build optimization
build_type = release
build_flags =
    -DCORE_DEBUG_LEVEL=3
    -DBOARD_HAS_PSRAM
    -DARDUINO_USB_MODE=1
    -DARDUINO_USB_CDC_ON_BOOT=1
    -O2
    -Wall
    -Wextra

; Serial Monitor
monitor_speed = 115200
monitor_filters =
    esp32_exception_decoder
    log2file
    time

; Upload settings
upload_speed = 921600
upload_port = /dev/ttyACM0

; Libraries
lib_deps =
    ; WiFi and networking
    WiFi
    ; MQTT client
    knolleary/PubSubClient@^2.8
    ; I2C for PCF8574 keypad
    Wire
    adafruit/Adafruit PCF8574@^1.1.1
    ; RFID RC522
    miguelbalboa/MFRC522@^1.4.10
    ; RTC DS3231
    adafruit/RTClib@^2.1.1
    ; JSON handling
    bblanchon/ArduinoJson@^6.21.3

; Board specific settings
board_build.f_cpu = 160000000L
board_build.f_flash = 80000000L
board_build.flash_mode = qio
board_build.flash_size = 4MB

; Filesystem
board_build.filesystem = littlefs
board_build.filesystem_size = 1MB

; Partition scheme (if needed for OTA updates)
; board_build.partitions = default_4MB.csv
